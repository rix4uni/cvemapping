# Description
A SQL injection vulnerability was discovered in the endpoint responsible for searching for platform clients (Zentrajuris v.1.0). User input sent to the search parameter is concatenated directly into a SQL query without proper sanitization/parameterization, allowing the attacker to manipulate the query.

# Affected endpoint
iqopgbljnxmxlzvzbvgy.supabase.co/rest/v1/clients

# Payload example
Add the parameter ?select=*&limit=100 and alter the Accept header to application/json

# Proof of Concept (PoC)
<img width="1193" height="953" alt="image" src="https://github.com/user-attachments/assets/05547f34-533b-4ca6-9ed5-aa7d3f5d2a85" />
<img width="907" height="788" alt="image" src="https://github.com/user-attachments/assets/a9319ac6-630d-4a0c-b8e8-86e6ceee1a80" />
<img width="907" height="793" alt="image" src="https://github.com/user-attachments/assets/6feb7e7a-9734-4692-a37e-6ec6a788ccf1" />
<img width="907" height="779" alt="image" src="https://github.com/user-attachments/assets/0be68580-5451-44b4-9f0f-c5a8efa75e1d" />
<img width="905" height="790" alt="image" src="https://github.com/user-attachments/assets/877cc4d7-0325-4946-a423-ee849385d05f" />
<img width="906" height="793" alt="image" src="https://github.com/user-attachments/assets/1c71c37f-7d0c-49cc-89d6-08d8199f4527" />
<img width="749" height="884" alt="image" src="https://github.com/user-attachments/assets/a52947a6-014c-42a8-b206-a272e95591c9" />

# Impact
The SQL Injection vulnerability identified in the endpoint responsible for customer search poses a significant security risk to the platform, as it allows user-provided input to be interpreted directly as SQL commands by the database. This flaw allows a malicious attacker to manipulate queries to access, modify, or exfiltrate sensitive information, including customer personal data such as names, email addresses, identification documents, and other confidential information stored in the database. Furthermore, depending on the privilege level of the connection to the bank, exploitation of this vulnerability could result in unauthorized changes to records, data deletion, or even compromise of other areas of the system, affecting the integrity, confidentiality, and availability of platform information.

# Mitigation
To mitigate this risk, it is recommended to immediately implement the use of prepared statements or parameterized queries, ensuring that all user-provided input is treated exclusively as data and not as part of SQL logic. Additionally, it is essential to apply strict input validation and normalization, restricting the accepted character types and ensuring that the provided parameters conform to expectations. This approach drastically reduces the possibility of malicious query manipulation, strengthening application security and protecting sensitive customer data from unauthorized access.
